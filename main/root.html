<!DOCTYPE html>
<html>
  <head>
    <title>ESP Captive Portal</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
      /* ベース */
      body {
        font-family: system-ui, sans-serif;
        margin: 0;
        padding: 1rem;
        line-height: 1.6;
        max-width: 900px;   /* PCで広がりすぎないように */
        margin-left: auto;
        margin-right: auto;
      }

      /* テキスト */
      h1, h2, h3 {
        line-height: 1.2;
      }

      /* ボタン */
      button {
        padding: 0.6em 1.2em;
        font-size: 1rem;
        border: none;
        border-radius: 0.5em;
        background: #0078ff;
        color: white;
        cursor: pointer;
      }
      button:hover {
        background: #005fcc;
      }

      /* 画像や動画は親幅に合わせる */
      img, video {
        max-width: 100%;
        height: auto;
        display: block;
        margin: 1rem 0;
      }

      /* スマホ～タブレット用（幅が狭いとき） */
      @media (max-width: 600px) {
        body {
          padding: 0.8rem;
          font-size: 0.95rem;
        }
        button {
          width: 100%; /* ボタンは全幅に */
        }
      }

      /* タブレット～PC用（幅が広いとき） */
      @media (min-width: 601px) {
        body {
          font-size: 1.05rem;
        }
      }
    </style>    
  </head>
  <body>
    <h1>ESP Captive Portal</h1>
    <p>Hello World, this is ESP32!</p>
    
    <button onclick='toggleLED()'>Toggle LED</button>
    <p id='time'>--</p>
    <script>
    let ws = new WebSocket('ws://' + location.host + '/ws');
    ws.onmessage = function(evt) { document.getElementById('time').innerText = evt.data; };
    function toggleLED() { ws.send('toggle'); }
    //"window.onunload = function() { if (ws.readyState === WebSocket.OPEN) { ws.send('window.onbeforeunload'); }
    </script>
  </body>
</html>
